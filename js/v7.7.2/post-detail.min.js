function replyTo(b){ga("send",{hitType:"event",eventCategory:pageName,eventAction:"Clicked on comment reply anchor",eventLabel:"Replied to comment ID - "+b});var a=document.getElementById("comment_parent");if(a!==null){a.value=b}else{console.log("Page has not fully loaded!!")}}function validateEmail(a){var b=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a)}var actionNewsletter="";var sub_plan="";function subscriptionPlan(a){if(a.id=="daily-subscription"||a.id=="newsletter-daily-subscription"){if(a.id=="daily-subscription"){actionNewsletter="Newsletter Modal Popup"}else{if(a.id=="newsletter-daily-subscription"){actionNewsletter="Newletter"}}sub_plan="Daily"}else{if(a.id=="weekly-subscription"||a.id=="newsletter-weekly-subscription"){if(a.id=="weekly-subscription"){actionNewsletter="Newsletter Modal Popup"}else{if(a.id=="newsletter-weekly-subscription"){actionNewsletter="Newletter"}}sub_plan="Weekly"}else{if(a.id=="monthly-subscription"||a.id=="newsletter-monthly-subscription"){if(a.id=="monthly-subscription"){actionNewsletter="Newsletter Modal Popup"}else{if(a.id=="newsletter-monthly-subscription"){actionNewsletter="Newletter"}}sub_plan="Monthly"}}}ga("send",{hitType:"event",eventCategory:pageName,eventAction:actionNewsletter,eventLabel:sub_plan})}function errorMessageFadeIn(a){a.style.height="20px"}function errorMessageFadeOut(a){a.style.height="0px"}function showSharePopup(){ga("send",{hitType:"event",eventCategory:pageName,eventAction:"Clicked on share with friends",eventLabel:"Click on share with friends - "+processedPostTitle});shareModal.style.display="block";document.body.style.overflowY="hidden";shareModal.style.overflowY="hidden"}function showNewsletterPopup(){ga("send",{hitType:"event",eventCategory:pageName,eventAction:"Get Health Newsletter",eventLabel:"Get Health Newsletter"});newsletterModal.style.display="block";document.body.style.overflowY="hidden";newsletterModal.style.overflowY="scroll";document.getElementById("email-newsletter-notification").value="";sub_plan="";errorMessageFadeOut(document.getElementById("newsletter-email-error-message"));errorMessageFadeOut(document.getElementById("newsletter-subscription-plan-click"))}window.addEventListener("load",function(){var m=unsubRedirectUrl;var n=document.getElementById("post-button");var a=document.getElementById("response-email-input");document.getElementsByClassName("form-control").value="";var r=document.getElementById("comment-acknowledgement-modal");var j=document.getElementById("subscription-acknowledgement-modal");var i=document.getElementById("unsubscribe-modal-popup");var u=document.getElementById("unsubscription-close");var p=document.getElementById("comment-acknowledgement-modal-close");var h=document.getElementById("subscription-acknowledgement-modal-close");var b=document.getElementById("shareModal");var e=document.getElementById("newsletterModal");var s=document.getElementById("center-share-img-anchor");var o=document.getElementById("center-newsletter-img-anchor");var c=unsubEmail;var q=document.getElementById("unsubButton");if(trackSource!=""&&trackSource=="newsletter"){ga("send",{hitType:"event",eventCategory:"Blog Newsletter",eventAction:"click_on_link",eventLabel:postTitle})}if(c!=""){i.style.display="block";document.body.style.overflowY="hidden";i.style.overflowY="scroll"}u.onclick=function(){i.style.display="none";document.body.style.overflowY="scroll";i.style.overflowY="scroll";location.href=m;ga("send",{hitType:"event",eventCategory:pageName,eventAction:"Unsubscribe",eventLabel:"Closed without Unsubscribing"})};if(q!=null){q.addEventListener("click",function(A){var x=document.getElementById("unsubscribe-radio-button");var w=m;var y=unsubEmail;var v=document.getElementById("unsubscription-radio-click");validUnsubButtonClick=true;if(x.checked==false){errorMessageFadeIn(v);validUnsubButtonClick=false;return}else{errorMessageFadeOut(v)}if(validUnsubButtonClick){ga("send",{hitType:"event",eventCategory:pageName,eventAction:"Unsubscribe",eventLabel:" Unsubscribe Button Clicked"});var B="unsubscribeEmail="+unsubEmail;var z=new XMLHttpRequest();z.open("POST",baseUrl+"/blogNotificationUnsubscription/",true);z.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");z.onload=function(){try{var C=JSON.parse(this.responseText);console.log(C.status);if(z.status===200&&C.status!="Fail"){errorMessageFadeOut(document.getElementById("unsubscription-radio-click"));document.getElementById("unsubscribe-modal-popup").style.display="none";document.body.style.overflowY="scroll";document.getElementById("unsubscribe-modal-popup").style.overflowY="scroll";location.href=w}}catch(D){return}};z.send(B)}else{console.log("Page has not loaded fully!!")}})}if(s!=null){s.addEventListener("click",showSharePopup)}if(o!=null){o.addEventListener("click",showNewsletterPopup)}if(a!=null){a.addEventListener("keyup",function(w){var v=this.value;if(v.length>0&&!validateEmail(v)){this.style.color="red"}else{this.style.color="black"}})}if(n!=null){n.addEventListener("click",function(K){var E=document.getElementById("response-comment-text-area");var J=document.getElementById("response-name-input");var C=document.getElementById("response-email-input");var I=document.getElementById("comment_parent");var z=document.getElementById("comment_post_ID");var x=true;var G=true;if(C!==null&&J!=null&&E!==null&&I!==null&&z!==null){var w=E.value.trim();var F=C.value.trim();var v=document.getElementById("response-comment-error-message");var A=document.getElementById("response-email-error-message");if(w.length==0){errorMessageFadeIn(v);x=false}else{errorMessageFadeOut(v)}if(F.length>0&&!validateEmail(F)){errorMessageFadeIn(A);G=false}else{errorMessageFadeOut(A)}if(x&&G){var O=J.value.trim();var B=I.value;var y=z.value;console.log("/"+w+"/"+O+"/"+F+"/");var N=(w.length>0?"Set":"Not Set");var H=(F.length>0?"Set":"Not Set");var L=(O.length>0?"Set":"Not Set");ga("send",{hitType:"event",eventCategory:pageName,eventAction:"Clicked on post comment button",eventLabel:" Comment : "+N+"/ Name : "+L+"/ Email : "+H});var M="postId="+y+"&comment="+w+"&commenterName="+O+"&commenterEmail="+F+"&parentCommentId="+B;var D=new XMLHttpRequest();D.open("POST",baseUrl+"/addBlogComment/",true);D.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");D.onload=function(){try{var P=JSON.parse(this.responseText);console.log(P.status);if(D.status===200&&P.status!="Fail"){r.style.display="block";document.body.style.overflowY="hidden";r.style.overflowY="hidden";E.value="";J.value="";C.value=""}}catch(Q){return}};D.send(M)}}else{console.log("Page has not loaded fully!!")}})}p.onclick=function(){r.style.display="none";document.body.style.overflowY="scroll";r.style.overflowY="scroll";ga("send",{hitType:"event",eventCategory:pageName,eventAction:"Closed comment acknowledgment message",eventLabel:"Closed using click on cross button"})};h.onclick=function(){j.style.display="none";document.body.style.overflowY="scroll";j.style.overflowY="scroll";ga("send",{hitType:"event",eventCategory:pageName,eventAction:"Closed subscription acknowledgment message",eventLabel:"Closed subscription acknowledgment using click on cross button"})};window.onclick=function(v){if(v.target==r){r.style.display="none";document.body.style.overflowY="scroll";r.style.overflowY="scroll";ga("send",{hitType:"event",eventCategory:pageName,eventAction:"Closed comment acknowledgment message",eventLabel:"Closed using click on blank space"})}};window.onclick=function(v){if(v.target==j){j.style.display="none";document.body.style.overflowY="scroll";j.style.overflowY="scroll";ga("send",{hitType:"event",eventCategory:pageName,eventAction:"Closed subscription acknowledgment message",eventLabel:"Closed using click on blank space"})}};document.getElementById("shareClose").onclick=function(){ga("send",{hitType:"event",eventCategory:pageName,eventAction:"Closed share with friends",eventLabel:"Closed share with friends - "+processedPostTitle});b.style.display="none";document.body.style.overflowY="scroll"};var t="";window.checkEmail=function(w){var v=w.value;if(v.length>0&&!validateEmail(v)){w.style.color="red";t=w}else{w.style.color="black";t=w}};document.getElementById("newsletterClose").onclick=function(){ga("send",{hitType:"event",eventCategory:pageName,eventAction:"Get Health Newsletter",eventLabel:"Closed Newsletter"});e.style.display="none";document.body.style.overflowY="scroll";sub_plan="";document.getElementById("email-notification").value="";errorMessageFadeOut(document.getElementById("email-notification-error-message"));errorMessageFadeOut(document.getElementById("subscription-plan-click"))};var f="";var l="";var g="";var d="";var k="";window.checkSubscribe=function(v){if(v.id=="subButton"){var H=document.getElementById("subButton");f=H;g=document.getElementById("blog_category_Name");l="Newsletter Modal Popup";k=document.getElementById("subscription-plan-click");d=document.getElementById("email-notification-error-message")}else{if(v.id=="subButtonNewsletter"){var H=document.getElementById("subButtonNewsletter");f=H;g=document.getElementById("blogCategoryName");l="Newsletter";k=document.getElementById("newsletter-subscription-plan-click");d=document.getElementById("newsletter-email-error-message")}}if(f!=null){var E=t;if(E.length==0){errorMessageFadeIn(d);I=false;return}else{var w=E.value.indexOf("@");var C=E.value.lastIndexOf(".");var A=g;var G=sub_plan;var I=true;var B=true;if(E!==null&&G!==null){var D=E.value.trim();if(D.length>0&&!validateEmail(D)){errorMessageFadeIn(d);I=false;return}else{errorMessageFadeOut(d)}if(w<1||C<w+2||C+2>=E.value.length){errorMessageFadeIn(d);return false}else{errorMessageFadeOut(d)}if(G==""){errorMessageFadeIn(k);B=false}else{errorMessageFadeOut(k)}if(I&&B){var y=A.value.trim();var x=l;f.disabled=true;ga("send",{hitType:"event",eventCategory:pageName,eventAction:x,eventLabel:" Subscribe"});var z="categoryId="+postCategoryId+"&subscriptionPlan="+G+"&subscriptionEmail="+D;var F=new XMLHttpRequest();F.open("POST",baseUrl+"/blogNotificationSubscription/",true);F.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");F.onload=function(){try{var J=JSON.parse(this.responseText);console.log(J.status);if(F.status===200&&J.status!="Fail"){document.getElementById("newsletterModal").style.display="none";j.style.display="block";document.body.style.overflowY="hidden";j.style.overflowY="hidden";D.value="";G.value="";y.value="";sub_plan="";t.value="";f.disabled=false;errorMessageFadeOut(document.getElementsByClassName("email-error-message"));errorMessageFadeOut(document.getElementById("subscription-plan-click"));errorMessageFadeOut(document.getElementById("newsletter-subscription-plan-click"))}}catch(K){f.disabled=false;return}};F.send(z)}}else{console.log("Page has not loaded fully!!")}}}}});function trackAdGA(){ga("send",{hitType:"event",eventCategory:pageName,eventAction:"Buy Health Product link in Blog post detail",eventLabel:"From Amazon"})};